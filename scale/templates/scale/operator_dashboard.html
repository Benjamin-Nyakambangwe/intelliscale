<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Operator Dashboard - Scale System</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        :root {
            --background: 0 0% 100%;
            --foreground: 240 10% 3.9%;
            --card: 0 0% 100%;
            --card-foreground: 240 10% 3.9%;
            --popover: 0 0% 100%;
            --popover-foreground: 240 10% 3.9%;
            --primary: 240 5.9% 10%;
            --primary-foreground: 0 0% 98%;
            --secondary: 240 4.8% 95.9%;
            --secondary-foreground: 240 5.9% 10%;
            --muted: 240 4.8% 95.9%;
            --muted-foreground: 240 3.8% 46.1%;
            --accent: 240 4.8% 95.9%;
            --accent-foreground: 240 5.9% 10%;
            --destructive: 0 84.2% 60.2%;
            --destructive-foreground: 0 0% 98%;
            --border: 240 5.9% 90%;
            --input: 240 5.9% 90%;
            --ring: 240 5.9% 10%;
            --radius: 0.5rem;
        }

        .dark {
            --background: 240 10% 3.9%;
            --foreground: 0 0% 98%;
            --card: 240 10% 3.9%;
            --card-foreground: 0 0% 98%;
            --popover: 240 10% 3.9%;
            --popover-foreground: 0 0% 98%;
            --primary: 0 0% 98%;
            --primary-foreground: 240 5.9% 10%;
            --secondary: 240 3.7% 15.9%;
            --secondary-foreground: 0 0% 98%;
            --muted: 240 3.7% 15.9%;
            --muted-foreground: 240 5% 64.9%;
            --accent: 240 3.7% 15.9%;
            --accent-foreground: 0 0% 98%;
            --destructive: 0 62.8% 30.6%;
            --destructive-foreground: 0 0% 98%;
            --border: 240 3.7% 15.9%;
            --input: 240 3.7% 15.9%;
            --ring: 240 4.9% 83.9%;
        }

        body {
            font-family: 'Inter', sans-serif;
        }

        .theme-toggle {
            position: fixed;
            bottom: 1.5rem;
            right: 1.5rem;
            z-index: 50;
        }
    </style>
</head>
<body class="min-h-screen bg-background text-foreground antialiased">
    <!-- Top Navigation -->
    <nav class="border-b">
        <div class="px-4 h-14 flex items-center justify-between">
            <div class="flex items-center gap-2 font-semibold">
                <i data-lucide="scale" class="w-5 h-5"></i>
                Scale System
            </div>
            <form method="post" action="{% url 'users:logout' %}" class="flex items-center gap-4">
        {% csrf_token %}
                <span class="text-sm text-muted-foreground">{{ user.username }}</span>
                <button type="submit" class="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-destructive text-destructive-foreground hover:bg-destructive/90 h-9 px-4 py-2">
                    <i data-lucide="log-out" class="w-4 h-4 mr-2"></i>
                    Logout
                </button>
    </form>
        </div>
    </nav>

    <main class="container mx-auto p-4 space-y-4">
        <!-- Welcome Card -->
        <div class="rounded-lg border bg-card text-card-foreground shadow-sm p-6">
            <div class="flex flex-col space-y-1.5">
                <h2 class="font-semibold text-2xl">Welcome back, {{ user.username }}</h2>
                <p class="text-sm text-muted-foreground">You're logged in as {{ user.get_role_display }}</p>
            </div>
        </div>

        <!-- Stats Grid -->
        <div class="grid gap-4 md:grid-cols-2 lg:grid-cols-4">
            <div class="rounded-lg border bg-card text-card-foreground shadow-sm p-4">
                <div class="flex items-center gap-2">
                    <i data-lucide="scale" class="w-4 h-4 text-muted-foreground"></i>
                    <span class="text-sm font-medium">Today's Weighings</span>
                </div>
                <div class="mt-2">
                    <span class="text-2xl font-bold">0</span>
                </div>
            </div>
            <div class="rounded-lg border bg-card text-card-foreground shadow-sm p-4">
                <div class="flex items-center gap-2">
                    <i data-lucide="check-circle" class="w-4 h-4 text-muted-foreground"></i>
                    <span class="text-sm font-medium">System Status</span>
                </div>
                <div class="mt-2">
                    <span class="text-sm font-medium text-green-500">Ready</span>
                </div>
            </div>
        </div>

        <!-- Main Action Card -->
        <div class="rounded-lg border bg-card text-card-foreground shadow-sm">
            <a href="{% url 'scale:weighing_station' %}" class="block p-6 hover:bg-accent/50 transition-colors">
                <div class="flex items-center justify-between">
                    <div class="space-y-1">
                        <h3 class="font-semibold text-xl">Weighing Station</h3>
                        <p class="text-sm text-muted-foreground">Record new measurements and manage weighing operations</p>
                    </div>
                    <i data-lucide="arrow-right" class="w-5 h-5"></i>
                </div>
            </a>
        </div>

        <!-- Recent Activity -->
        <div class="rounded-lg border bg-card text-card-foreground shadow-sm">
            <div class="p-6">
                <h3 class="font-semibold text-xl mb-4">Recent Activity</h3>
                <div class="text-sm text-muted-foreground">
                    No recent activity to display
                </div>
            </div>
        </div>
    </main>

    <!-- Theme Toggle Button -->
    <button class="theme-toggle rounded-full bg-primary text-primary-foreground shadow-sm p-2 hover:bg-primary/90" onclick="toggleTheme()">
        <i data-lucide="sun" class="w-5 h-5 dark:hidden"></i>
        <i data-lucide="moon" class="w-5 h-5 hidden dark:block"></i>
    </button>

    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        // Theme toggle functionality
        function toggleTheme() {
            document.documentElement.classList.toggle('dark');
            document.body.classList.toggle('dark');
        }

        // Check system preference
        if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
            document.body.classList.add('dark');
        }
    </script>
</body>
</html>